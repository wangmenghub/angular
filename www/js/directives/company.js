/** * Created by ID on 15/12/8. * Author:zhoudd * email:zhoudd@stark.tm */angular.module('rsc.directive')    .directive('companyLabel', function () {        return {            restrict: 'EAC',            templateUrl: 'js/directives/template/companyLabel.html',            replace: true,            scope: {                companyId: '=companyId',                type: '@type',                showImg: '='            },            controller: function ($scope, $filter, AccountInformation, $log) {                //StoreManage.getInfoById($scope.addressId).then(function (result) {                //    //$scope.title.begin = result.city;                //    //console.log($scope.title);                //    $scope.addressDetail = $filter('rsc.address')(result);                //});                //$scope.type='trade';                $scope.$watch('companyId', function () {                    if ($scope.companyId) {                        AccountInformation.getCompanyinfoById($scope.companyId, $scope.type).then(function (result) {                            //$log.debug('[获取公司信息]', result);                            if (result.status == 'success') {                                if (result.data.nick_name.length <= 0) {                                    $scope.companyName = result.data.full_name;                                } else {                                    $scope.companyName = result.data.nick_name;                                }                                if (result.data.verify_phase == 'SUCCESS') {                                    $scope.isVerifySuccess = true;                                } else {                                    $scope.isVerifySuccess = false;                                }                            } else {                                $log.error('[获取公司信息]', result);                            }                        });                    }                })            }        }    })    .directive('companyLabelForDetail', function () {        return {            restrict: 'EAC',            templateUrl: 'js/directives/template/companyLabelForDetail.html',            replace: true,            scope: {                companyId: '=companyId',                type: '@type'            },            controller: function ($scope, $filter, AccountInformation, $log) {                //StoreManage.getInfoById($scope.addressId).then(function (result) {                //    //$scope.title.begin = result.city;                //    //console.log($scope.title);                //    $scope.addressDetail = $filter('rsc.address')(result);                //});                //$scope.type='trade';                $scope.$watch('companyId', function () {                    if ($scope.companyId) {                        AccountInformation.getCompanyinfoById($scope.companyId, $scope.type).then(function (result) {                            //$log.debug('[获取公司信息]', result);                            if (result.status == 'success') {                                if (result.data.nick_name.length <= 0) {                                    $scope.companyName = result.data.full_name;                                } else {                                    $scope.companyName = result.data.nick_name;                                }                                if (result.data.verify_phase == 'SUCCESS') {                                    $scope.isVerifySuccess = true;                                } else {                                    $scope.isVerifySuccess = false;                                }                            } else {                                $log.error('[获取公司信息]', result);                            }                        });                    }                })            }        }    })    .directive('storeCompanyLabel', function () {        return {            restrict: 'EAC',            templateUrl: 'js/directives/template/store/storeCompanyLabel.html',            replace: true,            scope: {                companyId: '=companyId',                type: '@type',                des: '=des'            },            controller: function ($scope, $filter, AccountInformation, $log) {                //StoreManage.getInfoById($scope.addressId).then(function (result) {                //    //$scope.title.begin = result.city;                //    //console.log($scope.title);                //    $scope.addressDetail = $filter('rsc.address')(result);                //});                //$scope.type='trade';                $scope.$watch('companyId', function () {                    if ($scope.companyId) {                        AccountInformation.getCompanyinfoById($scope.companyId, $scope.type).then(function (result) {                            //$log.debug('[获取公司信息]', result);                            if (result.status == 'success') {                                if (result.data.nick_name.length <= 0) {                                    $scope.companyName = result.data.full_name;                                } else {                                    $scope.companyName = result.data.nick_name;                                }                                if (result.data.verify_phase == 'SUCCESS') {                                    $scope.isVerifySuccess = true;                                } else {                                    $scope.isVerifySuccess = false;                                }                            } else {                                $log.error('[获取公司信息]', result);                            }                        });                    }                })            }        }    })    